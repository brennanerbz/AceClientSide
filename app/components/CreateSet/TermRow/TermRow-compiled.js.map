{"version":3,"sources":["TermRow.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;0BACuB,YAAY;;;;sCACX,4BAA4B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAE/B,OAAO;WAAP,OAAO;;UAAP,OAAO;;;;;;;OAK3B,KAAK,GAAG;AACP,gBAAa,EAAE,KAAK;AACpB,aAAU,EAAE,KAAK;AACjB,cAAW,EAAE,CAAC;AACd,cAAW,EAAE,CAAC;AACd,QAAK,EAAE,IAAI;AACX,cAAW,EAAE,IAAI;AACjB,QAAK,EAAE,IAAI;GACX;;OA0BD,QAAQ,GAAG,UAAC,IAAI,EAAK;gBAC4C,MAAK,KAAK;OAA/D,UAAU,UAAV,UAAU;OAAE,UAAU,UAAV,UAAU;OAAE,KAAK,UAAL,KAAK;OAAE,IAAI,UAAJ,IAAI;OAAE,WAAW,UAAX,WAAW;;AACxD,OAAG,IAAI,IAAI,IAAI,IAAI,IAAI,KAAK,IAAI,EAAE;AAC9B,QAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;AACjB,eAAU,CAAC,KAAK,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAA;AACjD,YAAO;KACV;IACJ;AACD,OAAG,IAAI,KAAK,IAAI,IAAI,IAAI,CAAC,MAAM,KAAK,SAAS,EAAE;AAC3C,QAAG,IAAI,CAAC,MAAM,IAAI,IAAI,IACrB,IAAI,CAAC,MAAM,KAAK,IAAI,IAClB,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC,IAAI,EAAE,KAAK,IAAI,CAAC,WAAW,EAAE,CAAC,IAAI,EAAE,IAC9D,IAAI,CAAC,SAAS,IAAI,IAAI,AAAC,EAAE;AACxB,eAAU,CAAC,IAAI,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAA;AAChD,YAAO;KACd;AACD,QAAG,IAAI,CAAC,MAAM,KAAK,IAAI,IAChB,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC,IAAI,EAAE,KAAK,IAAI,CAAC,WAAW,EAAE,CAAC,IAAI,EAAE,IAC9D,IAAI,CAAC,SAAS,EAAE;AACf,eAAU,CAAC,KAAK,EAAE,EAAC,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,IAAI,EAAC,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAA;KACjF;IACJ;GACJ;;OAED,cAAc,GAAG,UAAC,GAAG,EAAK;iBACuC,MAAK,KAAK;OAA/D,UAAU,WAAV,UAAU;OAAE,UAAU,WAAV,UAAU;OAAE,KAAK,WAAL,KAAK;OAAE,IAAI,WAAJ,IAAI;OAAE,WAAW,WAAX,WAAW;;AACxD,OAAG,IAAI,IAAI,IAAI,IAAI,GAAG,KAAK,IAAI,EAAE;AAC7B,QAAI,GAAG,CAAC,MAAM,GAAG,CAAC,IAAI,GAAG,KAAK,IAAI,EAAE;AAChC,eAAU,CAAC,KAAK,EAAE,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,CAAA;AAC7C,YAAO;KACV;IACJ;AACD,OAAG,IAAI,KAAK,IAAI,IAAI,IAAI,CAAC,GAAG,KAAK,SAAS,EAAE;AACxC,QAAG,IAAI,CAAC,GAAG,IAAI,IAAI,IAClB,IAAI,CAAC,GAAG,KAAK,IAAI,IACf,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,CAAC,IAAI,EAAE,KAAK,GAAG,CAAC,WAAW,EAAE,CAAC,IAAI,EAAE,IAC1D,IAAI,CAAC,SAAS,IAAI,IAAI,AAAE,EAAE;AACzB,eAAU,CAAC,IAAI,EAAE,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,CAAA;AAC5C,YAAO;KACV;AACD,QAAG,IAAI,CAAC,GAAG,KAAK,IAAI,IACjB,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,CAAC,IAAI,EAAE,KAAK,GAAG,CAAC,WAAW,EAAE,CAAC,IAAI,EAAE,IAC1D,IAAI,CAAC,SAAS,EAAE;AACf,eAAU,CAAC,KAAK,EAAE,EAAC,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,IAAI,EAAC,EAAE,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,CAAA;KAC7E;IACJ;GACJ;;OAED,YAAY,GAAG,YAAM;AACnB,SAAK,KAAK,CAAC,SAAS,CAAC,MAAK,KAAK,CAAC,KAAK,EAAE,MAAK,KAAK,CAAC,WAAW,CAAC,CAAA;GAC/D;;;cAzFmB,OAAO;;SAehB,qBAAC,KAAK,EAAE,WAAW,EAAE;AAC/B,OAAG,IAAI,CAAC,KAAK,CAAC,WAAW,KAAK,WAAW,IAAI,KAAK,IAAI,WAAW,GAAG,CAAC,EAAE;AACtE,QAAI,CAAC,QAAQ,CAAC;AACb,eAAU,EAAE,IAAI;AAChB,gBAAW,EAAE,CAAC;KACd,CAAC,CAAA;IACF;GACD;;;SAEiB,8BAAG;iBAC6C,IAAI,CAAC,KAAK;OAAnE,WAAW,WAAX,WAAW;OAAE,IAAI,WAAJ,IAAI;OAAE,KAAK,WAAL,KAAK;OAAE,WAAW,WAAX,WAAW;OAAE,aAAa,WAAb,aAAa;;AAC5D,OAAI,CAAC,QAAQ,CAAC;AACb,SAAK,EAAE,KAAK;AACZ,eAAW,EAAE,WAAW;IACxB,CAAC,CAAC;AACH,OAAG,WAAW,GAAG,CAAC,IAAI,aAAa,EAAE;AACpC,QAAI,CAAC,WAAW,CAAC,KAAK,EAAE,WAAW,CAAC,CAAA;IACpC;GACD;;;SAEwB,mCAAC,SAAS,EAAE;AACpC,OAAG,QAAQ,CAAC,aAAa,IAAI,QAAQ,CAAC,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,KAAK,EAAE,CAAC,CAAA;GAChF;;;SAsDK,kBAAG;;;AACR,UACC;;MAAK,SAAS,EAAC,SAAS;AACtB,gBAAW,EAAE;aAAM,OAAK,QAAQ,CAAC,EAAC,aAAa,EAAE,IAAI,EAAC,CAAC;MAAA,AAAC;AACxD,iBAAY,EAAE;aAAM,OAAK,QAAQ,CAAC,EAAC,aAAa,EAAE,KAAK,EAAC,CAAC;MAAA,AAAC;IAC3D;;OAAG,SAAS,EAAC,iBAAiB;KAC5B,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC;KAClB;IACJ,wEAAa,SAAS,EAAC,iBAAiB;AACpC,SAAI,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,AAAC;AACnB,UAAK,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,AAAC;AACxB,gBAAW,EAAE,IAAI,CAAC,KAAK,CAAC,WAAW,AAAC;AACpC,eAAU,EAAE,IAAI,CAAC,KAAK,CAAC,UAAU,AAAC;AAClC,gBAAW,EAAE,IAAI,CAAC,KAAK,CAAC,WAAW,AAAC;AACpC,gBAAW,EAAE;aAAM,OAAK,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;MAAA,AAAC;AACvD,kBAAa,EAAE;aAAM,OAAK,QAAQ,CAAC,EAAE,UAAU,EAAE,KAAK,EAAE,CAAC;MAAA,AAAC;AAC1D,cAAS,EAAE,UAAC,KAAK;aAAK,OAAK,QAAQ,CAAC,EAAE,WAAW,EAAE,KAAK,EAAE,CAAC;MAAA,AAAC;AAC5D,aAAQ,EAAE,IAAI,CAAC,QAAQ,AAAC;AACxB,mBAAc,EAAE,IAAI,CAAC,cAAc,AAAC;AACpC,WAAM,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,AAAC;AAC1B,aAAQ,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,AAAC;AAC9B,aAAQ,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,AAAC;AAC9B,sBAAiB,EAAE,IAAI,CAAC,KAAK,CAAC,iBAAiB,AAAC;MACrD;IACF;;OAAK,SAAS,EAAC,oBAAoB;KAEjC,IAAI,CAAC,KAAK,CAAC,aAAa,IACrB,IAAI,CAAC,KAAK,CAAC,WAAW,GAAG,CAAC,IAC7B;;QAAG,SAAS,EAAC,gCAAgC;AACzC,cAAO,EAAE,IAAI,CAAC,YAAY,AAAC;;MAE3B;KAEA;IACD,CACL;GACF;;;SA9HkB,EAElB;;;;gBAHmB,OAAO;AAAP,QAAO,+BAAP,OAAO,KAAP,OAAO;QAAP,OAAO;;;qBAAP,OAAO","file":"TermRow-compiled.js","sourcesContent":["import React, { Component, PropTypes } from 'react';\nimport classnames from 'classnames';\nimport TermContent from '../TermContent/TermContent';\n\nexport default class TermRow extends Component {\n\tstatic propTypes = {\n\t\t/* TODO: Fill in propTypes */\n\t}\n\n\tstate = {\n\t\tis_mouse_over: false, \n\t\tactive_row: false,\n\t\tactive_side: 0, /* 0 = 'term' & 1 = 'definition' */\n\t\ttotal_count: 2,\n\t\tterms: null,\t\n\t\tdefinitions: null,\n\t\tindex: null\n\t}\n\n\tsparkNewRow(index, total_count) {\n\t\tif(this.state.total_count !== total_count && index == total_count - 1) {\n\t\t\tthis.setState({ \n\t\t\t\tactive_row: true,\n\t\t\t\tactive_side: 0\n\t\t\t})\n\t\t}\n\t}\n\n\tcomponentWillMount() {\n\t\tconst { association, item, index, total_count, able_to_spark } = this.props;\n\t\tthis.setState({\n\t\t\tindex: index,\n\t\t\ttotal_count: total_count\n\t\t});\n\t\tif(total_count > 2 && able_to_spark) {\n\t\t\tthis.sparkNewRow(index, total_count)\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tif(document.activeElement == document.body) this.setState({ active_row: false })\n\t}\n\n\tsaveTerm = (term) => { \n\t    const { createItem, updateItem, index, item, association } = this.props;\n\t    if(item == null && term !== null) {\n\t        if (term.length > 0) {\n\t            createItem(index, { name: 'target', prop: term })\n\t            return;\n\t        }\n\t    }\n\t    if(item !== null && item.target !== undefined) {\n\t        if(item.target == null || \n\t        (item.target !== null \n\t        && item.target.toLowerCase().trim() !== term.toLowerCase().trim()\n\t        && item.finalized == null)) {\n\t            updateItem(item, { name: 'target', prop: term })\n\t            return;\n\t    }\n\t    if(item.target !== null \n\t        && item.target.toLowerCase().trim() !== term.toLowerCase().trim()\n\t        && item.finalized) { \n\t            createItem(index, {name: 'child', prop: item}, { name: 'target', prop: term })\n\t        }\n\t    }\n\t}\n\n\tsaveDefinition = (def) => { \n\t    const { createItem, updateItem, index, item, association } = this.props;\n\t    if(item == null && def !== null) {\n\t        if (def.length > 0 && def !== null) {\n\t            createItem(index, { name: 'cue', prop: def })\n\t            return;\n\t        }\n\t    }\n\t    if(item !== null && item.cue !== undefined) {\n\t        if(item.cue == null || \n\t        (item.cue !== null \n\t        && item.cue.toLowerCase().trim() !== def.toLowerCase().trim()\n\t        && item.finalized == null )) {\n\t            updateItem(item, { name: 'cue', prop: def })\n\t            return;\n\t        }\n\t        if(item.cue !== null \n\t        && item.cue.toLowerCase().trim() !== def.toLowerCase().trim()\n\t        && item.finalized) { \n\t            createItem(index, {name: 'child', prop: item}, { name: 'cue', prop: def })\n\t        }\n\t    }\n\t}\n\n\thandleDelete = () => {\n \t\tthis.props.deleteRow(this.props.index, this.props.association)\n\t}\t\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"TermRow\" \n\t\t\t\t onMouseOver={() => this.setState({is_mouse_over: true})}\n\t\t\t\t onMouseLeave={() => this.setState({is_mouse_over: false})}>\n\t\t\t\t<a className=\"TermRow-counter\">\n\t\t\t\t\t{this.state.index + 1}\n\t\t\t\t</a>\n\t\t\t\t<TermContent className=\"TermRow-content\"\n\t\t\t\t\t\t\t item={this.props.item}\n\t\t\t\t\t\t     index={this.props.index}\n\t\t\t\t\t\t     total_count={this.props.total_count}\n\t\t\t\t\t\t     active_row={this.state.active_row}\n\t\t\t\t\t\t     active_side={this.state.active_side}\n\t\t\t\t\t\t     activateRow={() => this.setState({ active_row: true })}\n\t\t\t\t\t\t     deactivateRow={() => this.setState({ active_row: false })}\n\t\t\t\t\t\t     focusSide={(value) => this.setState({ active_side: value })}\n\t\t\t\t\t\t     saveTerm={this.saveTerm}\n\t\t\t\t\t\t     saveDefinition={this.saveDefinition}\n\t\t\t\t\t\t     addRow={this.props.addRow}\t\n\t\t\t\t\t\t     resizing={this.props.resizing}\t\n\t\t\t\t\t\t     rendered={this.props.rendered}\n\t\t\t\t\t\t     finishedRendering={this.props.finishedRendering}\t\n\t\t\t\t/>\n\t\t\t\t<div className=\"TermRow-operations\">\t\n\t\t\t\t\t{\t\n\t\t\t\t\t\tthis.state.is_mouse_over \n\t\t\t\t\t\t&& this.props.total_count > 2 &&\n\t\t\t\t\t\t<a className=\"TermRow-control material-icons\"\n\t\t\t\t\t   \t\tonClick={this.handleDelete}>\n\t\t\t\t\t\t\tclear\n\t\t\t\t\t\t</a>\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n"]}